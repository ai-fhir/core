# Встреча рабочей группы FHIR-RU №1

Тема обсуждения: опыт внедрения FHIR в Канаде (Британской Колумбии)

Дата: 17 сентября 2019

Видеозапись:

[![Видеозапись](http://img.youtube.com/vi/l9fFWce7JMs/0.jpg)](http://www.youtube.com/watch?v=l9fFWce7JMs)

# Конспект

## 1. Governance

Нидерланды -- первая страна, реализовавшая FHIR профили, этим занималось государственное агенство Nictiz. Затем возник US Core в рамках Argonaut Project (а ONC включил в Meaningful Use). Несмотря на то, что Argonaut -- ассоциация коммерческих компаний, заказчик -- государство, и по факту управляет профилями. В Канаде -- CHI (Canada Health Infoway), государственное агенство, а также агенства провинций. Везде стандартизацией FHIR управляет государство.

## 2. Практика

### 2.1. OID и URI

Работа по FHIR началась несколько лет назад. Сперва занимались OID to URI mapping. Канада одна из немногих стран, реализовавших HL7 V3, поэтому все базировалось на OID, их несколько сотен. OID -- идентификаторы кодовых систем, например, национальный идентификатор пациента (PHN). Некоторые из них используются на уровне всей страны, а какие-то только в провинциях. В FHIR -- URI, поэтому нужно было для каждого OID определить новый URI. Преимущества URI спорны, поскольку они в идеале должны разрешаться как URL (не обязаны, но это рекомендуется), но кто должен владеть доменным именем? Кто является Governance Body? Если коммерческая компания, домен может со временем исчезнуть. В рабочей группе решили, что использовать можно только реальные домены, а кто будет владеть, непонятно. При этом Naming Systems получилось несколько сотен, хранились они в Simplifier, где нет поиска, только вывод по 25 на странице => CHI вынужден был сделать свою страницу для поиска.

### 2.2. ValueSets

CHI в свое время решил, что LOINC не годится, потому что есть Квебек, где все должно быть на французском. Так появился pCLOCD -- локальный лабораторный стандарт.

В Британской Колумбии используется подмножество SNOMED CT в 3-5 тысяч кодов.

Как организовано версионирование ValueSet?
Для внешних кодовых систем (LOINC в виде pCLOCD и SNOMED) версионирование ведет соответствующая рабочая группа. С локальными, такими, как "Education Level" или "племя", это пока не формализовано.

Нидерланды и Германия держат свои ValueSet в Art-Decor.

Однако, может, лучше хранить справочники в репозитории, а не на сервере, который может отключиться?

### 2.3. Профили

Решили взять за основу US Core. В рабочей группе ожидали, что будут обсуждать по 5 профилей в час, но в итоге один только Patient обсуждается уже 5 месяцев. Например, не могут согласовать справочник Administrative Gender. К сожалению, для обсуждения профилей не нужны разработчики, требуются клиницисты. 

Платформы для публикации профилей -- Simplifier, Art Decor (вот-вот реализует FHIR) и Trifolio. Все принадлежат коммерческим компаниям. CHI проводил risk assessment. US Core хранится и на github pages от HL7, и на Simplifier. Он генерируется из Excel средствами IG Publisher, и поэтому не привязан к платформе публикации. Но даже если хранить на гитхабе, кто владеет репозиторием?

Сейчас профили Canada Core пишутся руками. Canada Health Infoway договорился с Simplifier о еженедельных бекапах.

Проблема Simplifier -- отсутствие удобного поиска. Преимущества Simplifier непонятны -- это просто средство публикации. US Core генерируется из Excel со всеми страницами документации, выкладывается на github pages, и никак не зависит от Simplifier.

Что должно входить в национальные профили?

Пример Британской Колумбии:
- Administrative Gender
- Sex
- aboriginal identifiers (Extension)
- Флаг, запрещающий серверу выдавать данные, пока пациенту делают анализ на СПИД (законодательное требование провинции)

Пример Ньюфаундленда:
- идентификатор пациента Франции (рядом с Ньюфаундлендом находятся два острова, принадлежащие Франции)

Вопрос с профилями -- в какой момент считать, что профили зрелые, разработку можно завершить? Когда решили финализировать, стоит протестировать на коннектатоне. Но на коннектатоне должны быть архитекторы всех Health Authorities, не представители вендоров, иначе нет смысла.

Уже во времена DSTU2 было понятно, что без профилей будет зоопарк хуже чем с V2. Оказалось, что инициатива снизу в государственной системе не проходит, необходима воля сверху.

Если профили -- дело клиницистов, где разработчики могут быть полезны? Несколько недель назад ONC сформировала рабочую группу FHIR At Scale -- единая точка входа для EHR от разных вендоров. Очень напоминает канадский HIAL (health information access layer) -- государственная шина обмена данными между системами. Внутри -- SOA, состоит из Alert Notifications, Audit, Deidentification, etc. Идея в Канаде -- в каждой провинции свой HIAL, обмениваются между собой при необходимости. В России аналог -- ЕГИСЗ.

У нас (RU-Core) задача такая же как в Канаде -- взять US Core, и локализовать. Кто является Governance Body? Вендоры могут договориться, но попытка снизу может не пройти. Необходимо вести работу не только в Петербурге, но и в других регионах. Стоит опираться на базовые сценарии использования (например, запись на прием) -- так разрабатывался US Core.